[debug] [2024-06-02T07:53:58.629Z] ----------------------------------------------------------------------
[debug] [2024-06-02T07:53:58.632Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions:api
[debug] [2024-06-02T07:53:58.633Z] CLI Version:   13.10.2
[debug] [2024-06-02T07:53:58.633Z] Platform:      win32
[debug] [2024-06-02T07:53:58.633Z] Node Version:  v20.14.0
[debug] [2024-06-02T07:53:58.633Z] Time:          Sun Jun 02 2024 12:53:58 GMT+0500 (Pakistan Standard Time)
[debug] [2024-06-02T07:53:58.633Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-06-02T07:53:58.722Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-06-02T07:53:58.723Z] > authorizing via signed-in user (abdulsami786125@gmail.com)
[debug] [2024-06-02T07:53:58.723Z] [iam] checking project duplookflock-beada for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-06-02T07:53:58.725Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions [none]
[debug] [2024-06-02T07:53:58.725Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:53:58.726Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T07:54:00.443Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions 200
[debug] [2024-06-02T07:54:00.443Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T07:54:00.443Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-06-02T07:54:00.444Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-06-02T07:54:02.118Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-06-02T07:54:02.118Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'duplookflock-beada'...
[info] 
[info] i  deploying functions 
[debug] [2024-06-02T07:54:02.122Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada [none]
[debug] [2024-06-02T07:54:02.713Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada 200
[debug] [2024-06-02T07:54:02.714Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada {"projectId":"duplookflock-beada","projectNumber":"912053971914","displayName":"dupLookFlock","name":"projects/duplookflock-beada","resources":{"hostingSite":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"},"state":"ACTIVE","etag":"1_89050506-ec97-4b4a-9a50-0d95b1ecffb4"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-06-02T07:54:02.719Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [none]
[debug] [2024-06-02T07:54:02.719Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:02.720Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [none]
[debug] [2024-06-02T07:54:02.720Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:02.722Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [none]
[debug] [2024-06-02T07:54:02.722Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:02.723Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [none]
[debug] [2024-06-02T07:54:02.723Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:04.563Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com 200
[debug] [2024-06-02T07:54:04.563Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-06-02T07:54:04.576Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com 200
[debug] [2024-06-02T07:54:04.576Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-06-02T07:54:04.656Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com 200
[debug] [2024-06-02T07:54:04.657Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-06-02T07:54:04.754Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com 200
[debug] [2024-06-02T07:54:04.755Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-06-02T07:54:04.755Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig [none]
[debug] [2024-06-02T07:54:05.396Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig 200
[debug] [2024-06-02T07:54:05.396Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig {"projectId":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"}
[debug] [2024-06-02T07:54:05.397Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs [none]
[debug] [2024-06-02T07:54:06.030Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs 200
[debug] [2024-06-02T07:54:06.030Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs {"configs":[{"name":"projects/duplookflock-beada/configs/algolia"}]}
[debug] [2024-06-02T07:54:06.031Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables [none]
[debug] [2024-06-02T07:54:06.280Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables 200
[debug] [2024-06-02T07:54:06.280Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables {"variables":[{"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z"},{"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z"}]}
[debug] [2024-06-02T07:54:06.281Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key [none]
[debug] [2024-06-02T07:54:06.283Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app [none]
[debug] [2024-06-02T07:54:06.542Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key 200
[debug] [2024-06-02T07:54:06.542Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key {"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z","text":"965b4da22ea977ed49ffe508da5e15b0"}
[debug] [2024-06-02T07:54:06.686Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app 200
[debug] [2024-06-02T07:54:06.686Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app {"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z","text":"K46CJRF3IC"}
[debug] [2024-06-02T07:54:06.688Z] Validating nodejs source
[debug] [2024-06-02T07:54:08.398Z] > [functions] package.json contents: {
  "name": "react-backend",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "deploy": "firebase deploy --only functions:api",
    "serve": "firebase emulators:start --only functions"
  },
  "keywords": [
    "express"
  ],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@firebase/firestore": "^4.6.3",
    "@firebase/storage": "^0.12.5",
    "body-parser": "^1.20.2",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "firebase": "^10.12.2",
    "firebase-admin": "^12.1.1",
    "firebase-functions": "^5.0.1"
  },
  "devDependencies": {
    "nodemon": "^3.1.2"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2024-06-02T07:54:08.398Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-06-02T07:54:08.401Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-06-02T07:54:08.408Z] Found firebase-functions binary at 'C:\Users\ABDUL SAMI\Desktop\React Backend\node_modules\.bin\firebase-functions'
[info] Serving at port 8328

[error] node:events:497
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::8328
    at Server.setupListenHandle [as _listen2] (node:net:1898:16)
    at listenInCluster (node:net:1946:12)
    at Server.listen (node:net:2044:7)
    at Object.<anonymous> (C:\Users\ABDUL SAMI\Desktop\React Backend\server.js:71:8)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1925:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 8328
}

Node.js v20.14.0

[debug] [2024-06-02T07:54:09.101Z] Failed to call quitquitquit. This often means the server failed to start request to http://localhost:8328/__/quitquitquit failed, reason:  {"message":"request to http://localhost:8328/__/quitquitquit failed, reason: ","type":"system","errno":"ECONNREFUSED","code":"ECONNREFUSED"}
[debug] [2024-06-02T07:54:09.402Z] FetchError: request to http://127.0.0.1:8328/__/functions.yaml failed, reason: read ECONNRESET
    at ClientRequest.<anonymous> (C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\node-fetch\lib\index.js:1501:11)
    at ClientRequest.emit (node:events:519:28)
    at ClientRequest.emit (node:domain:488:12)
    at Socket.socketErrorListener (node:_http_client:500:9)
    at Socket.emit (node:events:519:28)
    at Socket.emit (node:domain:488:12)
    at emitErrorNT (node:internal/streams/destroy:169:8)
    at emitErrorCloseNT (node:internal/streams/destroy:128:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-06-02T07:54:41.457Z] ----------------------------------------------------------------------
[debug] [2024-06-02T07:54:41.460Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-06-02T07:54:41.460Z] CLI Version:   13.10.2
[debug] [2024-06-02T07:54:41.460Z] Platform:      win32
[debug] [2024-06-02T07:54:41.460Z] Node Version:  v20.14.0
[debug] [2024-06-02T07:54:41.460Z] Time:          Sun Jun 02 2024 12:54:41 GMT+0500 (Pakistan Standard Time)
[debug] [2024-06-02T07:54:41.460Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-06-02T07:54:41.538Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-06-02T07:54:41.538Z] > authorizing via signed-in user (abdulsami786125@gmail.com)
[debug] [2024-06-02T07:54:41.538Z] [iam] checking project duplookflock-beada for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-06-02T07:54:41.540Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions [none]
[debug] [2024-06-02T07:54:41.540Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:41.541Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T07:54:43.117Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions 200
[debug] [2024-06-02T07:54:43.117Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T07:54:43.118Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-06-02T07:54:43.118Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-06-02T07:54:44.646Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-06-02T07:54:44.647Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'duplookflock-beada'...
[info] 
[info] i  deploying functions 
[debug] [2024-06-02T07:54:44.653Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada [none]
[debug] [2024-06-02T07:54:45.120Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada 200
[debug] [2024-06-02T07:54:45.120Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada {"projectId":"duplookflock-beada","projectNumber":"912053971914","displayName":"dupLookFlock","name":"projects/duplookflock-beada","resources":{"hostingSite":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"},"state":"ACTIVE","etag":"1_89050506-ec97-4b4a-9a50-0d95b1ecffb4"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-06-02T07:54:45.126Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [none]
[debug] [2024-06-02T07:54:45.126Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:45.129Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [none]
[debug] [2024-06-02T07:54:45.129Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:45.131Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [none]
[debug] [2024-06-02T07:54:45.131Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:45.133Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [none]
[debug] [2024-06-02T07:54:45.133Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T07:54:46.872Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com 200
[debug] [2024-06-02T07:54:46.872Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-06-02T07:54:46.884Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com 200
[debug] [2024-06-02T07:54:46.884Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-06-02T07:54:46.887Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com 200
[debug] [2024-06-02T07:54:46.887Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-06-02T07:54:46.890Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com 200
[debug] [2024-06-02T07:54:46.890Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-06-02T07:54:46.891Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig [none]
[debug] [2024-06-02T07:54:47.650Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig 200
[debug] [2024-06-02T07:54:47.650Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig {"projectId":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"}
[debug] [2024-06-02T07:54:47.651Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs [none]
[debug] [2024-06-02T07:54:48.051Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs 200
[debug] [2024-06-02T07:54:48.052Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs {"configs":[{"name":"projects/duplookflock-beada/configs/algolia"}]}
[debug] [2024-06-02T07:54:48.053Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables [none]
[debug] [2024-06-02T07:54:48.308Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables 200
[debug] [2024-06-02T07:54:48.308Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables {"variables":[{"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z"},{"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z"}]}
[debug] [2024-06-02T07:54:48.309Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app [none]
[debug] [2024-06-02T07:54:48.310Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key [none]
[debug] [2024-06-02T07:54:48.711Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key 200
[debug] [2024-06-02T07:54:48.711Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key {"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z","text":"965b4da22ea977ed49ffe508da5e15b0"}
[debug] [2024-06-02T07:54:49.103Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app 200
[debug] [2024-06-02T07:54:49.104Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app {"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z","text":"K46CJRF3IC"}
[debug] [2024-06-02T07:54:49.107Z] Validating nodejs source
[debug] [2024-06-02T07:54:49.864Z] > [functions] package.json contents: {
  "name": "react-backend",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "deploy": "firebase deploy --only functions",
    "serve": "firebase emulators:start --only functions"
  },
  "keywords": [
    "express"
  ],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@firebase/firestore": "^4.6.3",
    "@firebase/storage": "^0.12.5",
    "body-parser": "^1.20.2",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "firebase": "^10.12.2",
    "firebase-admin": "^12.1.1",
    "firebase-functions": "^5.0.1"
  },
  "devDependencies": {
    "nodemon": "^3.1.2"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2024-06-02T07:54:49.864Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-06-02T07:54:49.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-06-02T07:54:49.875Z] Found firebase-functions binary at 'C:\Users\ABDUL SAMI\Desktop\React Backend\node_modules\.bin\firebase-functions'
[info] Serving at port 8302

[error] node:events:497
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::8302
    at Server.setupListenHandle [as _listen2] (node:net:1898:16)
    at listenInCluster (node:net:1946:12)
    at Server.listen (node:net:2044:7)
    at Object.<anonymous> (C:\Users\ABDUL SAMI\Desktop\React Backend\server.js:71:8)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1925:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 8302
}

Node.js v20.14.0

[debug] [2024-06-02T07:54:50.376Z] Failed to call quitquitquit. This often means the server failed to start request to http://localhost:8302/__/quitquitquit failed, reason:  {"message":"request to http://localhost:8302/__/quitquitquit failed, reason: ","type":"system","errno":"ECONNREFUSED","code":"ECONNREFUSED"}
[debug] [2024-06-02T07:54:50.679Z] FetchError: request to http://127.0.0.1:8302/__/functions.yaml failed, reason: read ECONNRESET
    at ClientRequest.<anonymous> (C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\node-fetch\lib\index.js:1501:11)
    at ClientRequest.emit (node:events:519:28)
    at ClientRequest.emit (node:domain:488:12)
    at Socket.socketErrorListener (node:_http_client:500:9)
    at Socket.emit (node:events:519:28)
    at Socket.emit (node:domain:488:12)
    at emitErrorNT (node:internal/streams/destroy:169:8)
    at emitErrorCloseNT (node:internal/streams/destroy:128:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-06-02T08:02:11.076Z] ----------------------------------------------------------------------
[debug] [2024-06-02T08:02:11.078Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-06-02T08:02:11.078Z] CLI Version:   13.10.2
[debug] [2024-06-02T08:02:11.078Z] Platform:      win32
[debug] [2024-06-02T08:02:11.079Z] Node Version:  v20.14.0
[debug] [2024-06-02T08:02:11.079Z] Time:          Sun Jun 02 2024 13:02:11 GMT+0500 (Pakistan Standard Time)
[debug] [2024-06-02T08:02:11.079Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-06-02T08:02:11.158Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-06-02T08:02:11.158Z] > authorizing via signed-in user (abdulsami786125@gmail.com)
[debug] [2024-06-02T08:02:11.158Z] [iam] checking project duplookflock-beada for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-06-02T08:02:11.160Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions [none]
[debug] [2024-06-02T08:02:11.161Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:02:11.161Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T08:02:12.897Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions 200
[debug] [2024-06-02T08:02:12.897Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T08:02:12.897Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-06-02T08:02:12.897Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-06-02T08:02:14.555Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-06-02T08:02:14.556Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'duplookflock-beada'...
[info] 
[info] i  deploying functions 
[debug] [2024-06-02T08:02:14.561Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada [none]
[debug] [2024-06-02T08:02:15.022Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada 200
[debug] [2024-06-02T08:02:15.022Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada {"projectId":"duplookflock-beada","projectNumber":"912053971914","displayName":"dupLookFlock","name":"projects/duplookflock-beada","resources":{"hostingSite":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"},"state":"ACTIVE","etag":"1_89050506-ec97-4b4a-9a50-0d95b1ecffb4"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-06-02T08:02:15.025Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [none]
[debug] [2024-06-02T08:02:15.026Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:02:15.027Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [none]
[debug] [2024-06-02T08:02:15.027Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:02:15.028Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [none]
[debug] [2024-06-02T08:02:15.028Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:02:15.029Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [none]
[debug] [2024-06-02T08:02:15.029Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:02:16.894Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com 200
[debug] [2024-06-02T08:02:16.895Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-06-02T08:02:16.910Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com 200
[debug] [2024-06-02T08:02:16.910Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-06-02T08:02:16.934Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com 200
[debug] [2024-06-02T08:02:16.934Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-06-02T08:02:16.956Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com 200
[debug] [2024-06-02T08:02:16.956Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-06-02T08:02:16.957Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig [none]
[debug] [2024-06-02T08:02:17.682Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig 200
[debug] [2024-06-02T08:02:17.682Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig {"projectId":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"}
[debug] [2024-06-02T08:02:17.683Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs [none]
[debug] [2024-06-02T08:02:18.240Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs 200
[debug] [2024-06-02T08:02:18.241Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs {"configs":[{"name":"projects/duplookflock-beada/configs/algolia"}]}
[debug] [2024-06-02T08:02:18.241Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables [none]
[debug] [2024-06-02T08:02:18.499Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables 200
[debug] [2024-06-02T08:02:18.499Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables {"variables":[{"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z"},{"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z"}]}
[debug] [2024-06-02T08:02:18.500Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app [none]
[debug] [2024-06-02T08:02:18.501Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key [none]
[debug] [2024-06-02T08:02:18.757Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app 200
[debug] [2024-06-02T08:02:18.757Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app {"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z","text":"K46CJRF3IC"}
[debug] [2024-06-02T08:02:18.892Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key 200
[debug] [2024-06-02T08:02:18.892Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key {"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z","text":"965b4da22ea977ed49ffe508da5e15b0"}
[debug] [2024-06-02T08:02:18.893Z] Validating nodejs source
[debug] [2024-06-02T08:02:20.541Z] > [functions] package.json contents: {
  "name": "react-backend",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "deploy": "firebase deploy --only functions",
    "serve": "firebase emulators:start --only functions"
  },
  "keywords": [
    "express"
  ],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@firebase/firestore": "^4.6.3",
    "@firebase/storage": "^0.12.5",
    "body-parser": "^1.20.2",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "firebase": "^10.12.2",
    "firebase-admin": "^12.1.1",
    "firebase-functions": "^5.0.1"
  },
  "devDependencies": {
    "nodemon": "^3.1.2"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2024-06-02T08:02:20.542Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-06-02T08:02:20.545Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-06-02T08:02:20.560Z] Found firebase-functions binary at 'C:\Users\ABDUL SAMI\Desktop\React Backend\node_modules\.bin\firebase-functions'
[info] Serving at port 8903

[error] node:events:497
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::8903
    at Server.setupListenHandle [as _listen2] (node:net:1898:16)
    at listenInCluster (node:net:1946:12)
    at Server.listen (node:net:2044:7)
    at Object.<anonymous> (C:\Users\ABDUL SAMI\Desktop\React Backend\server.js:71:8)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1925:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 8903
}

[error] 
Node.js v20.14.0

[debug] [2024-06-02T08:02:21.320Z] Failed to call quitquitquit. This often means the server failed to start request to http://localhost:8903/__/quitquitquit failed, reason:  {"message":"request to http://localhost:8903/__/quitquitquit failed, reason: ","type":"system","errno":"ECONNREFUSED","code":"ECONNREFUSED"}
[debug] [2024-06-02T08:02:21.625Z] FetchError: request to http://127.0.0.1:8903/__/functions.yaml failed, reason: read ECONNRESET
    at ClientRequest.<anonymous> (C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\node-fetch\lib\index.js:1501:11)
    at ClientRequest.emit (node:events:519:28)
    at ClientRequest.emit (node:domain:488:12)
    at Socket.socketErrorListener (node:_http_client:500:9)
    at Socket.emit (node:events:519:28)
    at Socket.emit (node:domain:488:12)
    at emitErrorNT (node:internal/streams/destroy:169:8)
    at emitErrorCloseNT (node:internal/streams/destroy:128:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2024-06-02T08:13:38.367Z] ----------------------------------------------------------------------
[debug] [2024-06-02T08:13:38.370Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2024-06-02T08:13:38.370Z] CLI Version:   13.10.2
[debug] [2024-06-02T08:13:38.370Z] Platform:      win32
[debug] [2024-06-02T08:13:38.371Z] Node Version:  v20.14.0
[debug] [2024-06-02T08:13:38.371Z] Time:          Sun Jun 02 2024 13:13:38 GMT+0500 (Pakistan Standard Time)
[debug] [2024-06-02T08:13:38.371Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-06-02T08:13:38.482Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-06-02T08:13:38.483Z] > authorizing via signed-in user (abdulsami786125@gmail.com)
[debug] [2024-06-02T08:13:38.483Z] [iam] checking project duplookflock-beada for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-06-02T08:13:38.484Z] > refreshing access token with scopes: []
[debug] [2024-06-02T08:13:38.486Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-06-02T08:13:38.487Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-06-02T08:13:38.917Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-06-02T08:13:38.918Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-06-02T08:13:38.936Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions [none]
[debug] [2024-06-02T08:13:38.936Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:13:38.937Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T08:13:40.589Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions 200
[debug] [2024-06-02T08:13:40.589Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/duplookflock-beada:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-06-02T08:13:40.589Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-06-02T08:13:40.589Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-06-02T08:13:42.235Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-06-02T08:13:42.235Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/duplookflock-beada/serviceAccounts/duplookflock-beada@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'duplookflock-beada'...
[info] 
[info] i  deploying functions 
[debug] [2024-06-02T08:13:42.240Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada [none]
[debug] [2024-06-02T08:13:42.840Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada 200
[debug] [2024-06-02T08:13:42.840Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada {"projectId":"duplookflock-beada","projectNumber":"912053971914","displayName":"dupLookFlock","name":"projects/duplookflock-beada","resources":{"hostingSite":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"},"state":"ACTIVE","etag":"1_89050506-ec97-4b4a-9a50-0d95b1ecffb4"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-06-02T08:13:42.844Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [none]
[debug] [2024-06-02T08:13:42.844Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:13:42.847Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [none]
[debug] [2024-06-02T08:13:42.847Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:13:42.850Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [none]
[debug] [2024-06-02T08:13:42.850Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:13:42.852Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [none]
[debug] [2024-06-02T08:13:42.853Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com x-goog-quota-user=projects/duplookflock-beada
[debug] [2024-06-02T08:13:44.772Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com 200
[debug] [2024-06-02T08:13:44.772Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-06-02T08:13:44.778Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com 200
[debug] [2024-06-02T08:13:44.778Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-06-02T08:13:44.789Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com 200
[debug] [2024-06-02T08:13:44.789Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-06-02T08:13:44.809Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com 200
[debug] [2024-06-02T08:13:44.809Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/duplookflock-beada/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-06-02T08:13:44.810Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig [none]
[debug] [2024-06-02T08:13:45.422Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig 200
[debug] [2024-06-02T08:13:45.423Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/duplookflock-beada/adminSdkConfig {"projectId":"duplookflock-beada","storageBucket":"duplookflock-beada.appspot.com","locationId":"europe-west2"}
[debug] [2024-06-02T08:13:45.423Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs [none]
[debug] [2024-06-02T08:13:46.117Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs 200
[debug] [2024-06-02T08:13:46.117Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs {"configs":[{"name":"projects/duplookflock-beada/configs/algolia"}]}
[debug] [2024-06-02T08:13:46.118Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables [none]
[debug] [2024-06-02T08:13:46.480Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables 200
[debug] [2024-06-02T08:13:46.480Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables {"variables":[{"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z"},{"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z"}]}
[debug] [2024-06-02T08:13:46.481Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key [none]
[debug] [2024-06-02T08:13:46.481Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app [none]
[debug] [2024-06-02T08:13:46.795Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key 200
[debug] [2024-06-02T08:13:46.796Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/key {"name":"projects/duplookflock-beada/configs/algolia/variables/key","updateTime":"2024-01-17T14:38:12.642742335Z","text":"965b4da22ea977ed49ffe508da5e15b0"}
[debug] [2024-06-02T08:13:46.978Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app 200
[debug] [2024-06-02T08:13:46.979Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/duplookflock-beada/configs/algolia/variables/app {"name":"projects/duplookflock-beada/configs/algolia/variables/app","updateTime":"2024-01-17T14:38:12.344578340Z","text":"K46CJRF3IC"}
[debug] [2024-06-02T08:13:46.982Z] Validating nodejs source
[debug] [2024-06-02T08:13:49.468Z] > [functions] package.json contents: {
  "name": "react-backend",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "deploy": "firebase deploy --only functions",
    "serve": "firebase emulators:start --only functions"
  },
  "keywords": [
    "express"
  ],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@firebase/firestore": "^4.6.3",
    "@firebase/storage": "^0.12.5",
    "body-parser": "^1.20.2",
    "cors": "^2.8.5",
    "dotenv": "^16.4.5",
    "express": "^4.19.2",
    "firebase": "^10.12.2",
    "firebase-admin": "^12.1.1",
    "firebase-functions": "^5.0.1"
  },
  "devDependencies": {
    "nodemon": "^3.1.2"
  },
  "engines": {
    "node": "18"
  }
}
[debug] [2024-06-02T08:13:49.468Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-06-02T08:13:49.471Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-06-02T08:13:49.490Z] Found firebase-functions binary at 'C:\Users\ABDUL SAMI\Desktop\React Backend\node_modules\.bin\firebase-functions'
[info] Serving at port 8982

[error] node:events:497
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::8982
    at Server.setupListenHandle [as _listen2] (node:net:1898:16)
    at listenInCluster (node:net:1946:12)
    at Server.listen (node:net:2044:7)
    at Object.<anonymous> (C:\Users\ABDUL SAMI\Desktop\React Backend\server.js:71:8)
    at Module._compile (node:internal/modules/cjs/loader:1358:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1416:10)
    at Module.load (node:internal/modules/cjs/loader:1208:32)
    at Module._load (node:internal/modules/cjs/loader:1024:12)
    at Module.require (node:internal/modules/cjs/loader:1233:19)
    at require (node:internal/modules/helpers:179:18)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1925:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -4091,
  syscall: 'listen',
  address: '::',
  port: 8982
}

Node.js v20.14.0

[debug] [2024-06-02T08:13:50.636Z] Failed to call quitquitquit. This often means the server failed to start request to http://localhost:8982/__/quitquitquit failed, reason:  {"message":"request to http://localhost:8982/__/quitquitquit failed, reason: ","type":"system","errno":"ECONNREFUSED","code":"ECONNREFUSED"}
[debug] [2024-06-02T08:13:51.235Z] FetchError: request to http://127.0.0.1:8982/__/functions.yaml failed, reason: read ECONNRESET
    at ClientRequest.<anonymous> (C:\Users\ABDUL SAMI\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\node-fetch\lib\index.js:1501:11)
    at ClientRequest.emit (node:events:519:28)
    at ClientRequest.emit (node:domain:488:12)
    at Socket.socketErrorListener (node:_http_client:500:9)
    at Socket.emit (node:events:519:28)
    at Socket.emit (node:domain:488:12)
    at emitErrorNT (node:internal/streams/destroy:169:8)
    at emitErrorCloseNT (node:internal/streams/destroy:128:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21)
[error] 
[error] Error: An unexpected error has occurred.
